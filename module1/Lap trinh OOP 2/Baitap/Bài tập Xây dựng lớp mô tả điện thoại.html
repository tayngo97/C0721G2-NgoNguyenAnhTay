<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    class Phone {
        constructor(namePhone, pin, status) {
            this.namePhone = namePhone;
            this.pin = pin;
            this.status = status;
            this.thuDen = [];
            this.daGui = [];
            this.soanThao = [];
            this.tinNhap = [] ;
        }

        isStatusPhone() {
            this.pin--;
            return this.status;
        }

        onPhone() {
            this.status = true;
            this.pin--;
        }

        offPhone() {
            this.pin--;
            this.status = false;
        }

        sacPinPhone() {
            if(this.status == true){
            while (this.pin <= 100) {
                this.pin = this.pin + 0.01;
                alert(this.pin)
            }
            } else alert("Moi bat dien thoai !")
        }



        soantinnhan() {
            let mess = prompt("Mời bàn nhập tin nhắn: ");
            //Yêu cầu là hiển thị 1 dòng thông báo là bạn có muốn gửi tin
            //nhắn hiện tại hay không?
            if (confirm("Ban co muon gui tin nhan di khong?")) {
                this.soanThao.push(mess);
                this.pin--;
            }
        }

        inboxMess(phoneName, mess) {
            this.thuDen.push("Tên điện thoại: " + phoneName + " đã gửi tin" +
                "lời nhắn: " + mess)
            this.pin--;
        }

        sentMess(phone) {
            let data = "";
            for (let i = 0; i < this.soanThao.length; i++) {
                data+= " tin nhắn thứ " + i + " : "+this.soanThao[i] ;
            }
            let index = parseInt(prompt(data))
            this.daGui.push("Đã gửi tin đến tên điện thoại: " + phone.namePhone + ",với lời nhắn: " +this.soanThao[index])
            //Từ khóa this sẽ cho phép chúng ta truyền đi đối tượng hiện tại vào
            // phương thức
            phone.inboxMess(this.namePhone,this.soanThao[index]);
            this.soanThao.splice(index,1);
        }
        checkSenmess(){
            if (this.status == true){
                alert(this.daGui)
            }else alert("Moi bat dien thoai !")

        }
        checkThuden(){
            if (this.status == true){
                alert(this.thuDen);
            }else alert("Moi bat dien thoai !")
        }
        checktinNhap(){
            if (this.status == true){
                alert(this.tinNhap);
            }else alert("Moi bat dien thoai !")
        }
        //yêu cầu hoàn thiện
        //Viết phương thức xem tin nhắn đã gửi và hộp thư đến?
        //Các chức năng không thể hoạt động nếu điện thoại chưa bật.
        //Yêu cầu là hiển thị 1 dòng thông báo là bạn có muốn gửi tin nhắn hiện tại hay không?
    }

    let Nokia1 = new Phone("Nokia",25,false);
    Nokia1.onPhone();
    // Nokia1.checkSenmess();
    // Nokia1.checkThuden();
    // Nokia1.soantinnhan();
    // Nokia1.checktinNhap();
    Nokia1.soantinnhan();
    Nokia1.soantinnhan();
    Nokia1.soantinnhan();
    Nokia1.soantinnhan();
    Nokia1.soantinnhan();
    Nokia1.sentMess();

</script>
</body>
</html>